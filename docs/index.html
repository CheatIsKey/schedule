<!DOCTYPE html>
<html>
<head>
    <title>일정 관리 프로젝트 API</title>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <link
            href="https://fonts.googleapis.com/css?family=Montserrat:300,400,700|Roboto:300,400,700"
            rel="stylesheet"
    />
    <style>
        body {
            margin: 0;
            padding: 0;
        }
    </style>
</head>
<body>
<div id="redoc-container"></div>

<script src="https://cdn.jsdelivr.net/npm/redoc@next/bundles/redoc.standalone.js"></script>

<script>
    // 여기에 아까 주신 JSON 데이터를 변수로 넣습니다.
    const spec = {
        "openapi": "3.0.1",
        "info": {
            "title": "일정 관리 프로젝트 API",
            "description": "일정 등록, 조회, 수정, 삭제 기능을 제공하는 API 명세서입니다.",
            "version": "1.0.0"
        },
        "servers": [
            {
                "url": "http://localhost:8080",
                "description": "Local Server"
            }
        ],
        "paths": {
            "/api/{id}": {
                "get": {
                    "tags": ["schedule-controller"],
                    "operationId": "getScheduleAndComment",
                    "parameters": [
                        {
                            "name": "id",
                            "in": "path",
                            "required": true,
                            "schema": { "type": "integer", "format": "int64" }
                        }
                    ],
                    "responses": {
                        "200": {
                            "description": "OK",
                            "content": {
                                "*/*": {
                                    "schema": { "$ref": "#/components/schemas/ScheduleAndCommentReadResponseDto" }
                                }
                            }
                        }
                    }
                },
                "put": {
                    "tags": ["schedule-controller"],
                    "operationId": "updateSchedule",
                    "parameters": [
                        {
                            "name": "id",
                            "in": "path",
                            "required": true,
                            "schema": { "type": "integer", "format": "int64" }
                        }
                    ],
                    "requestBody": {
                        "content": {
                            "application/json": {
                                "schema": { "$ref": "#/components/schemas/ScheduleUpdateRequestDto" }
                            }
                        },
                        "required": true
                    },
                    "responses": {
                        "200": {
                            "description": "OK",
                            "content": {
                                "*/*": {
                                    "schema": { "$ref": "#/components/schemas/ScheduleUpdateResponseDto" }
                                }
                            }
                        }
                    }
                },
                "delete": {
                    "tags": ["schedule-controller"],
                    "operationId": "deleteSchedule",
                    "parameters": [
                        {
                            "name": "id",
                            "in": "path",
                            "required": true,
                            "schema": { "type": "integer", "format": "int64" }
                        }
                    ],
                    "requestBody": {
                        "content": {
                            "application/json": {
                                "schema": { "$ref": "#/components/schemas/ScheduleDeleteResponseDto" }
                            }
                        },
                        "required": true
                    },
                    "responses": {
                        "200": { "description": "OK" }
                    }
                }
            },
            "/api": {
                "get": {
                    "tags": ["schedule-controller"],
                    "operationId": "getSchedules",
                    "parameters": [
                        {
                            "name": "name",
                            "in": "query",
                            "required": false,
                            "schema": { "type": "string" }
                        }
                    ],
                    "responses": {
                        "200": {
                            "description": "OK",
                            "content": {
                                "*/*": {
                                    "schema": {
                                        "type": "array",
                                        "items": { "$ref": "#/components/schemas/ScheduleReadAllResponseDto" }
                                    }
                                }
                            }
                        }
                    }
                },
                "post": {
                    "tags": ["schedule-controller"],
                    "operationId": "createSchedule",
                    "requestBody": {
                        "content": {
                            "application/json": {
                                "schema": { "$ref": "#/components/schemas/ScheduleCreateRequestDto" }
                            }
                        },
                        "required": true
                    },
                    "responses": {
                        "200": {
                            "description": "OK",
                            "content": {
                                "*/*": {
                                    "schema": { "$ref": "#/components/schemas/ScheduleCreateResponseDto" }
                                }
                            }
                        }
                    }
                }
            },
            "/api/{scheduleId}": {
                "post": {
                    "tags": ["comment-controller"],
                    "operationId": "createComment",
                    "parameters": [
                        {
                            "name": "scheduleId",
                            "in": "path",
                            "required": true,
                            "schema": { "type": "integer", "format": "int64" }
                        }
                    ],
                    "requestBody": {
                        "content": {
                            "application/json": {
                                "schema": { "$ref": "#/components/schemas/CommentCreateRequestDto" }
                            }
                        },
                        "required": true
                    },
                    "responses": {
                        "200": {
                            "description": "OK",
                            "content": {
                                "*/*": {
                                    "schema": { "$ref": "#/components/schemas/CommentCreateResponseDto" }
                                }
                            }
                        }
                    }
                }
            }
        },
        "components": {
            "schemas": {
                "ScheduleUpdateRequestDto": {
                    "type": "object",
                    "properties": {
                        "title": { "type": "string" },
                        "content": { "type": "string" },
                        "name": { "type": "string" },
                        "password": { "type": "string" }
                    }
                },
                "ScheduleUpdateResponseDto": {
                    "type": "object",
                    "properties": {
                        "id": { "type": "integer", "format": "int64" },
                        "title": { "type": "string" },
                        "name": { "type": "string" },
                        "content": { "type": "string" },
                        "createdAt": { "type": "string", "format": "date-time" },
                        "modifiedAt": { "type": "string", "format": "date-time" }
                    }
                },
                "ScheduleCreateRequestDto": {
                    "type": "object",
                    "properties": {
                        "title": { "type": "string" },
                        "content": { "type": "string" },
                        "name": { "type": "string" },
                        "password": { "type": "string" }
                    }
                },
                "ScheduleCreateResponseDto": {
                    "type": "object",
                    "properties": {
                        "id": { "type": "integer", "format": "int64" },
                        "title": { "type": "string" },
                        "name": { "type": "string" },
                        "content": { "type": "string" },
                        "createdAt": { "type": "string", "format": "date-time" },
                        "modifiedAt": { "type": "string", "format": "date-time" }
                    }
                },
                "CommentCreateRequestDto": {
                    "type": "object",
                    "properties": {
                        "name": { "type": "string" },
                        "content": { "type": "string" },
                        "password": { "type": "string" }
                    }
                },
                "CommentCreateResponseDto": {
                    "type": "object",
                    "properties": {
                        "id": { "type": "integer", "format": "int64" },
                        "scheduleId": { "type": "integer", "format": "int64" },
                        "name": { "type": "string" },
                        "content": { "type": "string" },
                        "createdAt": { "type": "string", "format": "date-time" },
                        "modifiedAt": { "type": "string", "format": "date-time" }
                    }
                },
                "ScheduleReadAllResponseDto": {
                    "type": "object",
                    "properties": {
                        "id": { "type": "integer", "format": "int64" },
                        "title": { "type": "string" },
                        "name": { "type": "string" },
                        "content": { "type": "string" },
                        "createdAt": { "type": "string", "format": "date-time" },
                        "modifiedAt": { "type": "string", "format": "date-time" }
                    }
                },
                "CommentResponseDto": {
                    "type": "object",
                    "properties": {
                        "id": { "type": "integer", "format": "int64" },
                        "content": { "type": "string" },
                        "name": { "type": "string" },
                        "createdAt": { "type": "string", "format": "date-time" },
                        "modifiedAt": { "type": "string", "format": "date-time" }
                    }
                },
                "ScheduleAndCommentReadResponseDto": {
                    "type": "object",
                    "properties": {
                        "id": { "type": "integer", "format": "int64" },
                        "title": { "type": "string" },
                        "name": { "type": "string" },
                        "content": { "type": "string" },
                        "createdAt": { "type": "string", "format": "date-time" },
                        "modifiedAt": { "type": "string", "format": "date-time" },
                        "comments": {
                            "type": "array",
                            "items": { "$ref": "#/components/schemas/CommentResponseDto" }
                        }
                    }
                },
                "ScheduleDeleteResponseDto": {
                    "type": "object",
                    "properties": {
                        "password": { "type": "string" }
                    }
                }
            }
        }
    };

    // Redoc 초기화 (옵션 설정)
    Redoc.init(
        spec,
        {
            scrollYOffset: 50, // 헤더 등을 고려한 스크롤 위치 조정
            hideDownloadButton: true // 다운로드 버튼 숨기기 (선택 사항)
        },
        document.getElementById('redoc-container')
    );
</script>
</body>
</html>